ylab = "Average Delay (minutes)"
)
barplot(
delay$arr_delay.median,
names.arg = delay$airline_name,
las = 2,
main = "Median Arrival Delays by Airline",
ylab = "Median Delay (minutes)"
)
barplot(
delay$arr_delay.mean,
names.arg = delay$airline_name,
las = 2,
cex.names = 0.7,
main = "Average Arrival Delays by Airline",
ylab = "Average Delay (minutes)"
)
barplot(
delay$arr_delay.median,
names.arg = delay$airline_name,
las = 2,
cex.names = 0.7
main = "Median Arrival Delays by Airline",
barplot(
delay$arr_delay.mean,
names.arg = delay$airline_name,
las = 2,
cex.names = 0.7,
main = "Average Arrival Delays by Airline",
ylab = "Average Delay (minutes)"
)
barplot(
delay$arr_delay.median,
names.arg = delay$airline_name,
las = 2,
cex.names = 0.7,
main = "Median Arrival Delays by Airline",
ylab = "Median Delay (minutes)"
)
barplot(
delay$arr_delay.mean,
names.arg = delay$airline_name,
las = 2,
cex.names = 0.5,
main = "Average Arrival Delays by Airline",
ylab = "Average Delay (minutes)"
)
barplot(
delay$arr_delay.median,
names.arg = delay$airline_name,
las = 2,
cex.names = 0.5,
main = "Median Arrival Delays by Airline",
ylab = "Median Delay (minutes)"
)
barplot(
delay$arr_delay.mean,
names.arg = delay$airline_name,
las = 2,
cex.names = 0.25,
main = "Average Arrival Delays by Airline",
ylab = "Average Delay (minutes)"
)
barplot(
delay$arr_delay.median,
names.arg = delay$airline_name,
las = 2,
cex.names = 0.25,
main = "Median Arrival Delays by Airline",
ylab = "Median Delay (minutes)"
)
barplot(
delay$arr_delay.mean,
names.arg = delay$airline_name,
las = 2,
cex.names = 0.25,
main = "Average Arrival Delays by Airline",
ylab = "Average Delay (minutes)"
)
barplot(
delay$arr_delay.median,
names.arg = delay$airline_name,
las = 2,
cex.names = 0.3,
main = "Median Arrival Delays by Airline",
ylab = "Median Delay (minutes)"
)
barplot(
delay$arr_delay.mean,
names.arg = delay$airline_name,
las = 2,
cex.names = 0.25,
main = "Average Arrival Delays by Airline",
ylab = "Average Delay (minutes)"
)
barplot(
delay$arr_delay.median,
names.arg = delay$airline_name,
las = 2,
cex.names = 0.4,
main = "Median Arrival Delays by Airline",
ylab = "Median Delay (minutes)"
)
barplot(
delay$arr_delay.mean,
names.arg = delay$airline_name,
las = 2,
cex.names = 0.25,
main = "Average Arrival Delays by Airline",
ylab = "Average Delay (minutes)"
)
barplot(
delay$arr_delay.median,
names.arg = delay$airline_name,
las = 2,
cex.names = 0.35,
main = "Median Arrival Delays by Airline",
ylab = "Median Delay (minutes)"
)
barplot(
delay$arr_delay.mean,
names.arg = delay$airline_name,
las = 2,
cex.names = 0.35,
main = "Average Arrival Delays by Airline",
ylab = "Average Delay (minutes)"
)
barplot(
delay$arr_delay.median,
names.arg = delay$airline_name,
las = 2,
cex.names = 0.35,
main = "Median Arrival Delays by Airline",
ylab = "Median Delay (minutes)"
)
barplot(
delay$arr_delay.mean,
names.arg = delay$airline_name,
las = 2,
cex.names = 0.35,
main = "Average Arrival Delays by Airline",
ylab = "Average Delay (minutes)"
)
barplot(
delay$arr_delay.median,
names.arg = delay$airline_name,
las = 2,
cex.names = 0.35,
main = "Median Arrival Delays by Airline",
ylab = "Median Delay (minutes)"
)
cat("Difference explanation:\n",
"The mean sums all of the arrival delay times and divides by the number of flights. This makes the score sensitive to outliers, which can pull the mean towards extremes. This means that few extreme flights can be pulling the mean to a large value, and can explain why airlines have a large mean delay comparitive to median")
barplot(
delay$arr_delay.mean,
names.arg = delay$airline_name,
las = 2,
cex.names = 0.35,
main = "Average Arrival Delays by Airline",
ylab = "Average Delay (minutes)"
)
barplot(
delay$arr_delay.median,
names.arg = delay$airline_name,
las = 2,
cex.names = 0.35,
main = "Median Arrival Delays by Airline",
ylab = "Median Delay (minutes)"
)
cat("Difference explanation:\n",
"The mean sums all of the arrival delay times and divides by the number of flights. \n\n This makes the score sensitive to outliers, which can pull the mean towards extremes. \n\n This means that few extreme flights can be pulling the mean to a large value, and can explain why airlines have a large mean delay comparitive to median")
barplot(
delay$arr_delay.mean,
names.arg = delay$airline_name,
las = 2,
cex.names = 0.35,
main = "Average Arrival Delays by Airline",
ylab = "Average Delay (minutes)"
)
barplot(
delay$arr_delay.median,
names.arg = delay$airline_name,
las = 2,
cex.names = 0.35,
main = "Median Arrival Delays by Airline",
ylab = "Median Delay (minutes)"
)
cat("Difference explanation:\n",
"The mean sums all of the arrival delay times and divides by the number of flights. \n\n This makes the score sensitive to outliers, which can pull the mean towards extremes. \n\n This means that few extreme flights can be pulling the mean to a large value, and can explain why airlines have a large mean delay compared to the median.\n\n",
"The median is the middle value, so it is not affected by outliers.\n\n This would better represent a typical delay to a customer, and so you find that most airlines actually have a negative delay - meaning they arrived earlier than expected.")
barplot(
delay$arr_delay.mean,
names.arg = delay$airline_name,
las = 2,
cex.names = 0.35,
main = "Average Arrival Delays by Airline",
ylab = "Average Delay (minutes)"
)
barplot(
delay$arr_delay.median,
names.arg = delay$airline_name,
las = 2,
cex.names = 0.35,
main = "Median Arrival Delays by Airline",
ylab = "Median Delay (minutes)"
)
cat("Difference explanation:\n",
"The mean sums all of the arrival delay times and divides by the number of flights. \n\n This makes the score sensitive to outliers, which can pull the mean towards extremes. \n\n This means that few extreme flights can be pulling the mean to a large value, and can explain why airlines have a large mean delay compared to the median.\n\n",
"The median is the middle value, so it is not affected by outliers.\n\n This would better represent a typical delay to a customer.\n\n Because of this you find that most airlines actually have a negative delay - meaning they arrived earlier than expected.")
flights_airlines_airports
flights
df_number_of_flights_to_dest <- aggregate(
list(no_flights = rep(1, nrow(flights))),
by = list(carrier = flights$carrier, destination_name = flights$dest),
FUN = sum
)
df_number_of_flights_to_dest <- aggregate(
list(no_flights = rep(1, nrow(flights))),
by = list(carrier = flights$carrier, destination_name = flights$dest),
FUN = sum
)
print(df_number_of_flights_to_dest)
df_number_of_flights_to_dest <- aggregate(
list(no_flights = rep(1, nrow(flights))),
by = list(carrier = flights$name, destination_name = flights$dest),
FUN = sum
)
View(flights)
df_number_of_flights_to_dest <- aggregate(
list(no_flights = rep(1, nrow(flights))),
by = list(carrier = flights$carrier, destination_name = flights$dest),
FUN = sum
)
print(df_number_of_flights_to_dest)
tab <- as.data.frame(table(flights$carrier, flights$dest))
names(tab) <- c("carrier", "destination_name", "num_flights")
## 2) For each carrier, find the max count
max_per_carrier <- aggregate(num_flights ~ carrier, data = tab, FUN = max)
## 3) Join back and keep only rows that hit the per-carrier max
tmp <- merge(tab, max_per_carrier, by = "carrier", suffixes = c("", ".max"))
busiest_dest <- subset(tmp, num_flights == num_flights.max,
select = c(carrier, destination_name, num_flights))
busiest_dest
df <- aggregate(
list(num_flights = rep(1, nrow(flights))),
by = list(carrier = flights$carrier, destination_name = flights$dest),
FUN = sum
)
busiest_dest <- subset(df, num_flights == num_flights.max,
select = c(carrier, destination_name, num_flights))
tab <- as.data.frame(table(flights$carrier, flights$dest))
names(tab) <- c("carrier", "destination_name", "num_flights")
print(tab)
max_per_carrier <- aggregate(num_flights ~ carrier, data = tab, FUN = max)
tmp <- merge(tab, max_per_carrier, by = "carrier", suffixes = c("", ".max"))
busiest_dest <- subset(tmp, num_flights == num_flights.max,
select = c(carrier, destination_name, num_flights))
busiest_dest
tab <- as.data.frame(table(flights$carrier, flights$dest))
names(tab) <- c("carrier", "destination_name", "num_flights")
print(tab)
max_per_carrier <- aggregate(num_flights ~ carrier, data = tab, FUN = max)
print(max_per_carrier)
tmp <- merge(tab, max_per_carrier, by = "carrier", suffixes = c("", ".max"))
busiest_dest <- subset(tmp, num_flights == num_flights.max,
select = c(carrier, destination_name, num_flights))
busiest_dest
tab <- as.data.frame(table(flights$carrier, flights$dest))
names(tab) <- c("carrier", "destination_name", "num_flights")
print(tab)
max_per_carrier <- aggregate(num_flights ~ carrier, data = tab, FUN = max)
print(max_per_carrier)
tmp <- merge(tab, max_per_carrier, by = "carrier", suffixes = c("", ".max"))
busiest_dest <- subset(tmp, num_flights == num_flights.max,
select = c(carrier, destination_name, num_flights))
busiest_dest
airports
tab <- as.data.frame(table(flights$carrier, flights$dest))
names(tab) <- c("carrier", "destination_name", "num_flights")
print(tab)
max_per_carrier <- aggregate(num_flights ~ carrier, data = tab, FUN = max)
print(max_per_carrier)
tmp <- merge(tab, max_per_carrier, by = "carrier", suffixes = c("", ".max"))
busiest_dest <- subset(tmp, num_flights == num_flights.max,
select = c(carrier, destination_name, num_flights))
busiest_dest <- merge(busiest_dest, airports, by.x = "destination_name", by.y = "faa")
tab <- as.data.frame(table(flights$carrier, flights$dest))
names(tab) <- c("carrier", "destination_name", "num_flights")
print(tab)
max_per_carrier <- aggregate(num_flights ~ carrier, data = tab, FUN = max)
print(max_per_carrier)
tmp <- merge(tab, max_per_carrier, by = "carrier", suffixes = c("", ".max"))
busiest_dest <- subset(tmp, num_flights == num_flights.max,
select = c(carrier, destination_name, num_flights))
busiest_dest <- merge(busiest_dest, airports, by.x = "destination_name", by.y = "faa")
busiest_dest
tab <- as.data.frame(table(flights$carrier, flights$dest))
names(tab) <- c("carrier", "destination_name", "num_flights")
print(tab)
max_per_carrier <- aggregate(num_flights ~ carrier, data = tab, FUN = max)
print(max_per_carrier)
tmp <- merge(tab, max_per_carrier, by = "carrier", suffixes = c("", ".max"))
busiest_dest <- subset(tmp, num_flights == num_flights.max,
select = c(carrier, destination_name, num_flights))
busiest_dest <- merge(busiest_dest, airports, by.x = "destination_name", by.y = "faa")
busiest_dest
tmp
tab <- as.data.frame(table(flights$carrier, flights$dest))
names(tab) <- c("carrier", "destination_name", "num_flights")
print(tab)
max_per_carrier <- aggregate(num_flights ~ carrier, data = tab, FUN = max)
print(max_per_carrier)
tmp <- merge(tab, max_per_carrier, by = "carrier", suffixes = c("", ".max"))
busiest_dest <- subset(tmp, num_flights == num_flights.max,
select = c(carrier, destination_name, num_flights))
busiest_dest <- merge(busiest_dest, airports, by.x = "destination_name", by.y = "faa")
busiest_dest
flights
tab <- as.data.frame(table(flights$carrier, flights$dest))
names(tab) <- c("carrier", "destination_name", "num_flights")
max_per_carrier <- aggregate(num_flights ~ carrier, data = tab, FUN = max)
tmp <- merge(tab, max_per_carrier, by = "carrier", suffixes = c("", ".max"))
busiest_dest <- subset(tmp, num_flights == num_flights.max,
select = c(carrier, destination_name, num_flights))
busiest_dest <- merge(busiest_dest, airports, by.x = "destination_name", by.y = "faa")
busiest_dest
tab <- as.data.frame(table(flights$carrier, flights$dest))
names(tab) <- c("carrier", "destination_name", "num_flights")
max_per_carrier <- aggregate(num_flights ~ carrier, data = tab, FUN = max)
tmp <- merge(tab, max_per_carrier, by = "carrier", suffixes = c("", ".max"))
busiest_dest <- subset(tmp, num_flights == num_flights.max,
select = c(carrier, destination_name, num_flights))
busiest_dest <- merge(busiest_dest, airports, by.x = "destination_name", by.y = "faa")
res <- busiest_dest[, c(2, 4)]
tab <- as.data.frame(table(flights$carrier, flights$dest))
names(tab) <- c("carrier", "destination_name", "num_flights")
max_per_carrier <- aggregate(num_flights ~ carrier, data = tab, FUN = max)
tmp <- merge(tab, max_per_carrier, by = "carrier", suffixes = c("", ".max"))
busiest_dest <- subset(tmp, num_flights == num_flights.max,
select = c(carrier, destination_name, num_flights))
busiest_dest <- merge(busiest_dest, airports, by.x = "destination_name", by.y = "faa")
res <- busiest_dest[, c(2, 4)]
print(res)
#table calculating number of flights for each carrier in flights
tab <- as.data.frame(table(flights$carrier, flights$dest))
names(tab) <- c("carrier", "destination_name", "num_flights")
#finds the max number of flights to a destination for each carrier - returns both if two values are equal
max_per_carrier <- aggregate(num_flights ~ carrier, data = tab, FUN = max)
print(max_per_carrier
)
tmp <- merge(tab, max_per_carrier, by = "carrier", suffixes = c("", ".max"))
print(tmp)
busiest_dest <- subset(tmp, num_flights == num_flights.max,
select = c(carrier, destination_name, num_flights))
busiest_dest <- merge(busiest_dest, airports, by.x = "destination_name", by.y = "faa")
res <- busiest_dest[, c(2, 4)]
print(res)
#table calculating number of flights for each carrier in flights
tab <- as.data.frame(table(flights$carrier, flights$dest))
names(tab) <- c("carrier", "destination_name", "num_flights")
#finds the max number of flights to a destination for each carrier
max_per_carrier <- aggregate(num_flights ~ carrier, data = tab, FUN = max)
#merge back to keep dest_name data
tmp <- merge(tab, max_per_carrier, by = "carrier", suffixes = c("", ".max"))
#selects the destination with the max number of flights - returns multiple if multiple entries == max
busiest_dest <- subset(tmp, num_flights == num_flights.max,
select = c(carrier, destination_name, num_flights))
#merge with airports to retrieve full name
busiest_dest <- merge(busiest_dest, airports, by.x = "destination_name", by.y = "faa")
#reduce df for readability
res <- busiest_dest[, c(2, 4)]
print(res)
flights
flights <- transform(flights, sched_dur = sched_arr - sched_delay)
flights <- transform(flights, sched_dur = sched_arr_time - sched_dep_time)
flights <- transform(flights, sched_dur = sched_arr_time - sched_dep_time)
flights <- transform(flights, actual_dur = arr_time - dep_time)
flights <- transform(flights, sched_dur = sched_arr_time - sched_dep_time)
flights <- transform(flights, actual_dur = arr_time - dep_time)
print(flights)
flights <- transform(flights, efficiency = sched_dur/actual_dur)
flights <- transform(flights, efficiency = sched_dur/actual_dur)
print(flights)
flights <- merge(flights, planes[, c("tailnum", "manufacturer")], by = "tailnum")
flights <- merge(flights, planes[, c("tailnum", "manufacturer")], by = "tailnum")
flights
print(flights)
flights <- merge(flights, planes[, c("tailnum", "manufacturer")], by = "tailnum")
print(flights)
flights <- merge(flights, planes[, c("tailnum", "manufacturer")], by = "tailnum")
print(flights)
flights <- flights[1:22]
print(flights)
flights <- read.csv("flights.csv")
flights <- transform(flights, sched_dur = sched_arr_time - sched_dep_time)
flights <- transform(flights, actual_dur = arr_time - dep_time)
print(flights)
flights <- transform(flights, efficiency = sched_dur/actual_dur)
print(flights)
flights <- merge(flights, planes[, c("tailnum", "manufacturer")], by = "tailnum")
#flights <- merge(flights, planes[, c("tailnum", "manufacturer")], by = "tailnum")
print(flights)
#flights <- merge(flights, planes[, c("tailnum", "manufacturer")], by = "tailnum")
flights <- subset(flights, !is.na("manufacturer"))
print(flights)
flights <- read.csv("flights.csv")
flights <- transform(flights, sched_dur = sched_arr_time - sched_dep_time)
flights <- transform(flights, actual_dur = arr_time - dep_time)
print(flights)
flights <- transform(flights, efficiency = sched_dur/actual_dur)
print(flights)
flights <- merge(flights, planes[, c("tailnum", "manufacturer")], by = "tailnum")
print(flights)
flights <- subset(flights, !is.na("manufacturer"))
print(flights)
res <- flights[order(flights$efficiency, decreasing = True), ]
res <- flights[order(flights$efficiency, decreasing = TRUE), ]
res
ordered_flights <- flights[order(flights$efficiency, decreasing = TRUE), ]
print(ordered_flights)
most_efficient <-  head(ordered_flights$manufacturer, 100)
least_efficient <- tail(ordered_flights$manufacturer, 100)
print(most_efficient)
ordered_flights <- flights[order(flights$efficiency, decreasing = TRUE), ]
most_efficient <-  as.list(head(ordered_flights$manufacturer, 100))
least_efficient <- as.list(tail(ordered_flights$manufacturer, 100))
print(most_efficient)
flights <- merge(flights, planes[, c("tailnum", "manufacturer")], by = "tailnum")
print(flights)
#This is redundant as merge already removes flights where no manufacturer is identified - but kept in to show a method
flights <- subset(flights, !is.na("manufacturer"))
print(flights)
ordered_flights <- flights[order(flights$efficiency, decreasing = TRUE), ]
most_efficient <-  as.list(head(ordered_flights$manufacturer, 100))
least_efficient <- as.list(tail(ordered_flights$manufacturer, 100))
print(most_efficient)
print(least_efficient)
ordered_flights <- flights[order(flights$efficiency, decreasing = TRUE), ]
most_efficient <-  as.list(head(ordered_flights$manufacturer, 100))
least_efficient <- as.list(tail(ordered_flights$manufacturer, 100))
print(most_efficient)
print(least_efficient)
ordered_flights <- flights[order(flights$efficiency, decreasing = TRUE), ]
most_efficient <-  as.list(head(ordered_flights$manufacturer, 100))
least_efficient <- as.list(tail(ordered_flights$manufacturer, 100))
print(most_efficient)
ordered_flights <- flights[order(flights$efficiency, decreasing = TRUE), ]
print(ordered_flights)
most_efficient <-  as.list(head(ordered_flights$manufacturer, 100))
least_efficient <- as.list(tail(ordered_flights$manufacturer, 100))
print(most_efficient)
#table calculating number of flights for each carrier in flights
tab <- as.data.frame(table(flights$carrier, flights$dest))
names(tab) <- c("carrier", "destination_name", "num_flights")
#finds the max number of flights to a destination for each carrier
max_per_carrier <- aggregate(num_flights ~ carrier, data = tab, FUN = max)
#merge back to keep dest_name data
tmp <- merge(tab, max_per_carrier, by = "carrier", suffixes = c("", ".max"))
#selects the destination with the max number of flights - returns multiple if multiple entries == max
busiest_dest <- subset(tmp, num_flights == num_flights.max,
select = c(carrier, destination_name, num_flights))
#merge with airports to retrieve full name
busiest_dest <- merge(busiest_dest, airports, by.x = "destination_name", by.y = "faa")
#reduce df for readability
res <- busiest_dest[, c(2, 4)]
print(res)
flights <- read.csv("flights.csv")
flights <- transform(flights, sched_dur = sched_arr_time - sched_dep_time)
flights <- transform(flights, actual_dur = arr_time - dep_time)
print(flights)
flights <- transform(flights, efficiency = sched_dur/actual_dur)
print(flights)
flights <- merge(flights, planes[, c("tailnum", "manufacturer")], by = "tailnum")
print(flights)
#This is redundant as merge already removes flights where no manufacturer is identified - but kept in to show a method
flights <- subset(flights, !is.na("manufacturer"))
print(flights)
ordered_flights <- flights[order(flights$efficiency, decreasing = TRUE), ]
print(ordered_flights)
most_efficient <-  as.list(head(ordered_flights$manufacturer, 100))
least_efficient <- as.list(tail(ordered_flights$manufacturer, 100))
print(most_efficient)
ordered_flights <- flights[order(flights$efficiency, decreasing = TRUE), ]
print(ordered_flights)
most_efficient <-  as.list(head(ordered_flights$manufacturer, 100))
least_efficient <- as.list(tail(ordered_flights$manufacturer, 100))
print(most_efficient)
print(least_efficient)
ordered_flights <- flights[order(flights$efficiency, decreasing = TRUE), ]
print(ordered_flights)
most_efficient <-  as.list(head(ordered_flights$manufacturer, 100))
least_efficient <- as.list(tail(ordered_flights$manufacturer, 100))
print("list 1 - most efficient 100: \n\n")
print(most_efficient)
print("list 1 - least efficient 100: \n\n")
print(least_efficient)
ordered_flights <- flights[order(flights$efficiency, decreasing = TRUE), ]
print(ordered_flights)
most_efficient <-  as.list(head(ordered_flights$manufacturer, 100))
least_efficient <- as.list(tail(ordered_flights$manufacturer, 100))
print("list 1 - most efficient 100: --------------------------------------------------\n\n")
print(most_efficient)
print("list 1 - least efficient 100: --------------------------------------------------\n\n")
print(least_efficient)
ordered_flights <- flights[order(flights$efficiency, decreasing = TRUE), ]
print(ordered_flights)
most_efficient <-  as.list(head(ordered_flights$manufacturer, 100))
least_efficient <- as.list(tail(ordered_flights$manufacturer, 100))
print("list 1 - most efficient 100: --------------------------------------------------\n\n")
print(most_efficient)
print("list 2 - least efficient 100: --------------------------------------------------\n\n")
print(least_efficient)
